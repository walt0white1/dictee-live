/* ================= DESIGN SYSTEM ================= */

:root{
  --bg: #f5f9ff;
  --bg2:#ffffff;
  --card:#ffffff;
  --border: rgba(15, 23, 42, 0.10);
  --text: rgba(15, 23, 42, 0.92);
  --muted: rgba(15, 23, 42, 0.62);

  --blue:#1d4ed8;
  --blue2:#3b82f6;
  --red:#ef4444;
  --red2:#fb7185;

  --shadow: 0 18px 60px rgba(15, 23, 42, 0.10);
  --radius: 18px;

  /* ============ STREAM SAFE AREA ============ */
  --cam-w: 360px;
  --cam-h: 202px; /* 16:9 */
  --cam-gap: 18px;
  --stream-safe-left: calc(var(--cam-w) + (var(--cam-gap) * 2));
}

*{ box-sizing:border-box; }

html, body{
  color: var(--text);
  min-height: 100vh;
}

body{
   background:
    radial-gradient(1200px 600px at 15% -10%, rgba(56,189,248,.45), transparent 60%),
    radial-gradient(1200px 700px at 85% 10%, rgba(99,102,241,.40), transparent 65%),
    radial-gradient(900px 500px at 50% 80%, rgba(14,165,233,.25), transparent 70%),
    linear-gradient(
      180deg,
      #eaf4ff 0%,
      #dbeafe 30%,
      #c7ddff 65%,
      #b6d2ff 100%
    );
 
  background-repeat:no-repeat;
  background-attachment:fixed;
}
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:
    linear-gradient(
      90deg,
      rgba(255,255,255,.04),
      transparent 40%,
      transparent 60%,
      rgba(255,255,255,.04)
    );
  opacity:.25;
}

/* ================= STREAM MODE ================= */

.streamMode{
  padding-left: var(--stream-safe-left);
}

.streamMode::before{
  content:"CAM HERE";
  position:fixed;
  top: var(--cam-gap);
  left: var(--cam-gap);
  width: var(--cam-w);
  height: var(--cam-h);
  border-radius:18px;
  border:2px dashed rgba(15,23,42,.25);
  background: rgba(255,255,255,.25);
  backdrop-filter: blur(6px);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  letter-spacing:.12em;
  font-size:14px;
  color: rgba(15,23,42,.55);
  pointer-events:none;
  z-index:9999;
}

@media (max-width:1100px){
  .streamMode{ padding-left: 0; }
  .streamMode::before{ display:none; }
}

/* ================= LAYOUT ================= */

.container{
  max-width: 1020px;
  margin: 0 auto;
  padding: 28px 18px 70px;
}

.section{
  display:grid;
  gap: 14px;
  margin-top: 18px;
}

.row{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-wrap: wrap;
}

.grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

@media (max-width:900px){
  .grid2{ grid-template-columns:1fr; }
}

/* ================= TYPO ================= */

.h1{
  font-size: 36px;
  font-weight: 900;
  letter-spacing:-.02em;
  line-height:1.05;
  margin: 0 0 6px;
}

.sub{
  margin: 0;
  color: var(--muted);
  font-size:14px;
  line-height:1.5;
}

.mono{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
}

/* ================= CARDS ================= */

.card,
.kpi,
.rankItem,
.podiumCard{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}

.card{
  padding: 18px;
}

.card:hover,
.kpi:hover,
.rankItem:hover,
.podiumCard:hover{
  border-color: rgba(59,130,246,.28);
  box-shadow: 0 22px 80px rgba(15,23,42,.14);
  transform: translateY(-1px);
  transition: all .15s ease;
}

.divider{
  height:1px;
  background: linear-gradient(90deg,transparent,rgba(15,23,42,.12),transparent);
  margin: 14px 0;
}

/* ================= INPUTS ================= */

.input,
.textarea{
  width:100%;
  background: rgba(255,255,255,.75);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 12px;
  outline:none;
  color: var(--text);
}

.textarea{
  min-height:240px;
  resize:vertical;
  line-height:1.55;
}

.input:focus,
.textarea:focus{
  border-color: rgba(59,130,246,.55);
  box-shadow: 0 0 0 4px rgba(59,130,246,.15);
}

/* ================= BUTTONS ================= */

.btn,
.btnDanger,
.btnGhost{
  border-radius:14px;
  padding:12px 14px;
  font-weight:800;
  cursor:pointer;
  transition: transform .08s ease, filter .15s ease;
}

.btn{
  color:white;
  background: linear-gradient(135deg,var(--blue),var(--blue2));
  box-shadow: 0 10px 26px rgba(29,78,216,.18);
}

.btnRed{
  background: linear-gradient(135deg,var(--red),var(--red2));
}

.btnGhost{
  background: rgba(15,23,42,.04);
  border:1px solid var(--border);
  color: var(--text);
  box-shadow:none;
}

.btnDanger{
  border:0;
  background: linear-gradient(135deg,rgba(239,68,68,.92),rgba(251,113,133,.92));
  color:white;
}

.btn:hover,
.btnDanger:hover{ filter:brightness(1.04); }
.btn:active,
.btnDanger:active{ transform:translateY(1px); }

/* ================= BADGES ================= */

.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:7px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background: rgba(59,130,246,.08);
  color: rgba(29,78,216,.95);
  font-size:12px;
  font-weight:700;
}

.badgeRed{
  background: rgba(239,68,68,.08);
  color: rgba(185,28,28,.95);
}

/* ================= KPI ================= */

.kpis{
  display:grid;
  grid-template-columns: repeat(4,minmax(0,1fr));
  gap:12px;
}

@media (max-width:900px){
  .kpis{ grid-template-columns:repeat(2,1fr); }
}

.kpi{
  padding:14px;
  position:relative;
  overflow:hidden;
}

.kpi::before{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(600px 180px at 0% 0%, rgba(59,130,246,.12), transparent 60%);
  opacity:.8;
  pointer-events:none;
}

.kpi .label{
  color: var(--muted);
  font-size:12px;
  font-weight:700;
}

.kpi .value{
  margin-top:6px;
  font-size:20px;
  font-weight:900;
}

/* ================= PODIUM ================= */

.podiumWrap{
  display:grid;
  grid-template-columns: repeat(3,1fr);
  gap:16px;
  margin-top:12px;
}

@media (max-width:900px){
  .podiumWrap{ grid-template-columns:1fr; }
}

.podiumCard{
  padding:16px;
  opacity:0;
  animation: popIn .55s ease forwards;
}

.podium1{ animation-delay:0s; transform:translateY(-8px); border-color:rgba(59,130,246,.35); }
.podium2{ animation-delay:.08s; }
.podium3{ animation-delay:.16s; }

@keyframes popIn{
  to{ opacity:1; transform:translateY(0); }
}

/* ================= RANK ================= */

.rankItem{
  padding:14px;
  margin-top:12px;
}

summary{
  cursor:pointer;
  font-weight:700;
  color: var(--muted);
  list-style:none;
}

/* ================= CORRECTION MODE B ================= */

.tSubWrong{
  background: rgba(239,68,68,.10);
  color: rgb(185, 28, 28);
  padding: 2px 6px;
  border-radius: 8px;
  font-weight: 700;
  opacity: .55;
  margin-right: 6px;
}

.tSubCorrect{
  background: rgba(59,130,246,.16);
  color: rgba(29,78,216,.95);
  padding: 2px 8px;
  border-radius: 8px;
  font-weight: 900;
  border: 1px solid rgba(59,130,246,.25);
}

.tSubWrong::after{
  content:"‚Üí";
  display:inline-block;
  margin: 0 6px 0 8px;
  color: rgba(15,23,42,.35);
  font-weight: 900;
}

.tSubWrong,
.tSubCorrect{
  display:inline-block;
  line-height:1.25;
}

/* ================= SEVERE PULSE ================= */

.severePulse{
  animation: pulseRed 1.2s ease-in-out infinite;
}

@keyframes pulseRed{
  0%{ box-shadow:0 0 0 0 rgba(239, 68, 68, 0.637); }
  70%{ box-shadow:0 0 0 12px rgba(239,68,68,0); }
  100%{ box-shadow:0 0 0 0 rgba(239,68,68,0); }
}
.tSubWrong{
  background: rgba(239,68,68,0.22);
  padding: 2px 6px;
  border-radius: 8px;
  text-decoration-thickness: 2px;
}

.tSubCorrect{
  background: rgba(59,130,246,0.18);
  padding: 2px 6px;
  border-radius: 8px;
}
/* ================= AJOUT / SUPPRESSION MOTS ================= */

/* MOT MANQUANT (devait √™tre l√†) */
.tDel{
  color: rgba(15,23,42,.45);
  background: rgba(15,23,42,.06);
  border-radius: 6px;
  padding: 2px 6px;
  font-style: italic;
  border: 1px dashed rgba(15,23,42,.25);
}

/* petit + visuel */
.tDel::before{
  content:"+";
  margin-right: 4px;
  font-weight: 900;
  opacity: .6;
}

/* MOT EN TROP (ne devait pas √™tre l√†) */
.tIns{
  color: rgba(15,23,42,.45);
  background: rgba(15,23,42,.05);
  border-radius: 6px;
  padding: 2px 6px;
  text-decoration: line-through;
  border: 1px solid rgba(15,23,42,.18);
}

/* petit ‚àí visuel */
.tIns::before{
  content:"‚àí";
  margin-right: 4px;
  font-weight: 900;
  opacity: .6;
}

/* lisibilit√© dans le texte */
.tDel,
.tIns{
  display: inline-block;
  line-height: 1.5;
}
/* ponctuation manquante / en trop */
.tDel,
.tIns{
  font-style: italic;
}

/* encore plus discret si c'est juste un signe */
.tDel:has(span),
.tIns:has(span){
  opacity: .5;
}
/* ===== Avatars ===== */
/* ===== Avatars & identities (Host) ===== */
/* üü† Erreur moyenne (sub proche) */
.tSubWrongMed {
  color: rgb(234, 90, 12); /* orange */
  font-weight: 700;
  text-decoration: line-through;
}
/* üî¥ Erreur grave : petite animation discr√®te */
/* üçè Pulse "Apple-like": subtil, smooth, premium */
.severePulse {
  display: inline-block;
  position: relative;
  border-radius: 6px;
  padding: 0 3px;

  /* un l√©ger boost de lisibilit√© */
  will-change: transform, filter;
  transform: translateZ(0);
  animation: applePulse 1.8s cubic-bezier(0.22, 1, 0.36, 1) infinite;
}

/* petit halo soft derri√®re (glow premium, discret) */
.severePulse::after {
  content: "";
  position: absolute;
  inset: -3px -4px;
  border-radius: 10px;
  pointer-events: none;

  background: radial-gradient(
    closest-side,
    rgb(239, 68, 68),
    rgba(239, 68, 68, 0.00) 70%
  );

  opacity: 0;
  filter: blur(6px);
  transform: scale(0.96);
  animation: appleGlow 1.8s cubic-bezier(0.22, 1, 0.36, 1) infinite;
}

@keyframes applePulse {
  0% {
    transform: translateZ(0) scale(1);
    filter: saturate(1);
  }
  45% {
    transform: translateZ(0) scale(1.045);
    filter: saturate(1.05);
  }
  100% {
    transform: translateZ(0) scale(1);
    filter: saturate(1);
  }
}

@keyframes appleGlow {
  0% {
    opacity: 0;
    transform: scale(0.96);
  }
  45% {
    opacity: 1;
    transform: scale(1.02);
  }
  100% {
    opacity: 0;
    transform: scale(0.98);
  }
}

/* ‚ôø Respect "Reduce motion" */
@media (prefers-reduced-motion: reduce) {
  .severePulse,
  .severePulse::after {
    animation: none !important;
  }
}
.tSubCorrect { color: rgba(37, 99, 235, 0.95); font-weight: 700; } /* bleu */
.tSubWrong { color: rgba(230, 6, 6, 0.95); font-weight: 800; }   /* rouge */
.tSubWrongMed { color: rgba(255, 145, 0, 0.63); font-weight: 800; }/* orange */
.tIns { color: rgba(100,116,139,.95); }                            /* gris */
.tDel { color: rgba(100,116,139,.65); }                            /* gris plus l√©ger */
